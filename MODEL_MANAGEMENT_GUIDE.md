# Koala Desktop 模型管理指南

## 概述

Koala Desktop 的模型管理功能采用全新的设计，让用户可以手动添加和管理AI模型提供商及其模型。界面采用左右分栏布局：

- **左侧**：模型提供商列表
- **右侧**：选中提供商的API配置和模型列表

## 默认提供商

应用预设了以下提供商，默认只启用 OpenAI：

### 已启用
- **OpenAI** - OpenAI 官方 API 服务

### 可选提供商
- **Ollama** - 本地运行的开源大语言模型服务
- **DeepSeek** - DeepSeek 深度求索系列模型
- **七牛云** - 七牛云AI开放平台
- **硅基流动** - 硅基流动AI服务平台
- **豆包** - 字节跳动豆包系列模型
- **MiniMax** - MiniMax AI服务
- **Fireworks** - Fireworks AI 高性能推理平台
- **派欧云** - 派欧云AI服务平台
- **Gemini** - Google Gemini 系列模型
- **GitHub Models** - GitHub Models 平台
- **智谱** - 智谱AI开放平台
- **月之暗面** - Moonshot AI 提供的大语言模型服务
- **阿里云百炼** - 阿里云通义千问系列模型
- **LM Studio** - 本地运行的语言模型服务
- **OpenRouter** - OpenRouter 统一API平台
- **Anthropic** - Anthropic Claude 系列模型
- **Grok** - xAI Grok 系列模型
- **AIHubMix** - AIHubMix AI服务平台
- **混元** - 腾讯混元大模型
- **Azure OpenAI** - Microsoft Azure OpenAI 服务

## 功能特性

### 提供商管理
- ✅ 添加新的模型提供商
- ✅ 编辑提供商信息（名称、描述、API URL、API Key、官网）
- ✅ 启用/禁用提供商
- ✅ 删除提供商

### 模型管理
- ✅ 手动添加模型到指定提供商
- ✅ 编辑模型详细信息
- ✅ 配置模型能力（函数调用、视觉识别）
- ✅ 设置定价信息
- ✅ 启用/禁用模型
- ✅ 删除模型

## 使用步骤

### 1. 添加提供商

1. 进入 **设置 > 模型管理**
2. 点击左侧的 **"添加"** 按钮
3. 填写提供商信息：
   - **提供商名称**：如 "OpenAI"
   - **描述**：提供商的简要描述
   - **API URL**：API 端点地址，如 `https://api.openai.com/v1`
   - **API Key**：您的 API 密钥
   - **官方网站**：提供商官网链接
4. 点击 **"添加"** 完成

### 2. 配置 API

选择左侧的提供商后，右侧会显示 API 配置区域：
- **API URL**：显示当前配置的 API 端点
- **API Key**：显示是否已配置密钥（不会明文显示）
- 点击 **"编辑配置"** 可以修改这些设置

### 3. 添加模型

1. 选择左侧的提供商
2. 在右侧模型列表区域点击 **"添加模型"**
3. 填写模型信息：
   - **模型ID**：如 "gpt-4"
   - **显示名称**：如 "GPT-4"
   - **描述**：模型的详细描述
   - **模型类型**：选择对话模型、图像模型等
   - **上下文窗口**：模型支持的最大 token 数
   - **最大输出**：单次输出的最大 token 数
   - **模型能力**：勾选支持的功能（函数调用、视觉识别）
   - **定价信息**：输入价格、输出价格、缓存输入价格
4. 点击 **"添加"** 完成

### 4. 管理模型

在模型列表中，您可以：
- 使用开关启用/禁用模型
- 点击编辑图标修改模型信息
- 点击删除图标移除模型

## 支持的模型类型

- **chat**：对话模型
- **completion**：文本补全模型
- **embedding**：文本嵌入模型
- **image**：图像生成模型
- **tts**：文本转语音模型
- **sst**：语音转文本模型

## 模型能力配置

### 函数调用 (Function Call)
适用于支持工具调用的模型，如 GPT-4、Claude 等。

### 视觉识别 (Vision)
适用于支持图像理解的多模态模型，如 GPT-4V、Claude 3 等。

## 定价信息

可以为每个模型配置定价信息（以 $/1M tokens 为单位）：
- **输入价格**：处理输入文本的费用
- **输出价格**：生成输出文本的费用
- **缓存输入价格**：使用缓存输入的费用（如果支持）

## 常见提供商配置示例

### OpenAI
- **API URL**: `https://api.openai.com/v1`
- **常见模型**: gpt-4, gpt-4-turbo, gpt-3.5-turbo

### Anthropic
- **API URL**: `https://api.anthropic.com`
- **常见模型**: claude-3-opus, claude-3-sonnet, claude-3-haiku

### Google
- **API URL**: `https://generativelanguage.googleapis.com/v1`
- **常见模型**: gemini-pro, gemini-pro-vision

### 自定义提供商
您也可以添加任何兼容 OpenAI API 格式的自定义提供商。

## 注意事项

1. **API Key 安全**：请妥善保管您的 API 密钥，不要分享给他人
2. **模型可用性**：添加模型前请确认该模型在对应提供商处可用
3. **定价准确性**：请参考提供商官方文档确保定价信息准确
4. **网络连接**：确保网络可以访问配置的 API 端点

## 故障排除

### 模型无法使用
1. 检查 API Key 是否正确配置
2. 确认 API URL 格式正确
3. 验证模型 ID 是否准确
4. 检查网络连接

### 提供商无法连接
1. 验证 API URL 是否可访问
2. 检查防火墙设置
3. 确认 API Key 权限

如有其他问题，请查看应用日志或联系技术支持。 